<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-elements/paper-elements.html">
<link rel="import" href="../../bower_components/core-elements/core-elements.html">

<polymer-element name="ivx-main-content" attributes="showPageKey">
  <template>
    <link rel="stylesheet" href="ivx-main-content.css">

    <!--<core-animated-pages on-tap="{{changeSite}}" selected="{{selectedSection}}" transitions="cross-fade-all">-->
    <core-pages selected="{{ selectedPage }}" fit>
      <section>
        <ivx-page-surveylist fit></ivx-page-surveylist>
      </section>

      <section>
        <div layout vertical center center-justified style="background:red;" fit>
          <div>Please authorize yourself!</div>
        </div>
      </section>

      <section>
        <div layout vertical center center-justified style="background:yellow;" fit>
          <div>Info</div>
        </div>
      </section>

      <section>
        <div layout vertical center center-justified style="background:blue;" fit>
          <div>Einstellungen</div>
        </div>
      </section>
    </core-pages>
    <!--</core-animated-pages>-->

  </template>

  <script>
    (function () {
      'use strict';

      Polymer({

        pageMapping: {
          'surveylist': 0,
          'authorize': 1
        },

        ready: function() {
          // init goes here
          this.pageCount = this.shadowRoot.querySelector('core-pages').children.length;
          this.selectedPage = 0;
        },

        /* Callbacks */
        showPageKeyChanged: function() {
          this.selectedPage = this.pageMapping[this.showPageKey];
        }
      });

    })();
  </script>
</polymer-element>

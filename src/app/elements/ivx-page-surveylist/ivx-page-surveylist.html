<link rel="import" href="../../bower_components/polymer/polymer.html">

<polymer-element name="ivx-page-surveylist" attributes="contentHeight">
  <template>
    <link rel="stylesheet" href="ivx-page-surveylist.css">

    <core-list id="list" data="{{data}}" height="120">
      <template>
        <div class="row {{ { selected: selected } | tokenList }}">
          <div class="message">
            <core-image style="width:40px; height:40px; background-color: lightgray;" src="{{model.image_src}}" sizing="cover" preload></core-image>
            <div flex>{{model.title}}<br>
              Anzahl der Fragen: {{model.questionCount}}
            </div>
          </div>
        </div>
      </template>
    </core-list>
    <paper-fab class="fab" icon="add"></paper-fab>

  </template>
  <script>
    (function () {

      Polymer({

        /**
         * A workaround to set manually the height for the core-list to fit them into the content area. This workaround
         * is related to https://github.com/Polymer/core-list/issues/47
         *
         * @attribute contentHeight
         * @type string
         * @default '250px'
         */
        contentHeight: '250px',

        contentHeightChanged: function() {
          this.$.list.style.height = this.contentHeight;
        },

        ready: function() {
          // init goes here
          this.data = [];
          this.selectedSection = 0;

          for (var i = 0; i < 10000; ++i) {
            this.data.push({
              title: 'Lorem Ipsum',
              questionCount: Math.random() * 100,
              image_src: 'http://lorempixel.com/40/40/business/?' + Math.random()
            });
          }
        }

      });

    })();
  </script>
</polymer-element>
